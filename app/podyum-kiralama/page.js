// app/podyum-kiralama/page.js
import Image from "next/image";
import Link from "next/link";
import Script from "next/script";
import { getService } from "@/lib/data";
import PriceEstimator from "@/components/PriceEstimatorPodyum";

// ‚è±Ô∏è Saatlik yeniden √ºretim (statik + ISR)
export const revalidate = 3600;

const svc = getService("podyum");

// G√ºncel birim fiyatlar
const UNIT_PRICES = {
  platform_m2_week: 250,  // TL/m¬≤/hafta
  carpet_m2_week: 120,    // TL/m¬≤/hafta
  skirt_ml_week: 90,      // TL/mt√ºl/hafta
  istanbul_setup: 8000,   // TL ƒ∞stanbul i√ßi nakliye + kurulum + s√∂k√ºm
};

// Paket (varsayƒ±lan dizilimler)
const CONTENT = {
  gallery: ["/img/podyum/1.webp", "/img/podyum/2.webp", "/img/podyum/3.webp"],
  packages: [
    {
      key: "mini",
      name: "Mini Podyum ‚Äî 12 m¬≤",
      layout: { width: 3, depth: 4, area: 12, perimeter: 14 },
      includes: [
        "6 √ó (1√ó2 m) panel ‚Äì toplam 12 m¬≤",
        "Y√ºkseklik: 40 cm",
        "Kaymaz kaplama",
        "Kurulum + s√∂k√ºm",
      ],
      note: "ƒ∞√ß mek√¢n konu≈üma/mini performanslar i√ßin ideal.",
    },
    {
      key: "orta",
      name: "Orta Podyum ‚Äî 24 m¬≤",
      layout: { width: 4, depth: 6, area: 24, perimeter: 20 },
      includes: [
        "12 √ó (1√ó2 m) panel ‚Äì toplam 24 m¬≤",
        "Y√ºkseklik: 60 cm",
        "Kaymaz kaplama, merdiven",
        "Kurulum + s√∂k√ºm + yerinde dengeleme",
      ],
      note: "Kurumsal sahneler ve canlƒ± performanslar i√ßin.",
    },
    {
      key: "pro",
      name: "Pro Podyum ‚Äî 48 m¬≤",
      layout: { width: 6, depth: 8, area: 48, perimeter: 28 },
      includes: [
        "24 √ó (1√ó2 m) panel ‚Äì toplam 48 m¬≤",
        "Y√ºkseklik: 80‚Äì100 cm",
        "Kaymaz kaplama, merdiven, rampa, korkuluk",
        "Kurulum + s√∂k√ºm + √ßevre etek/brandalama",
      ],
      note: "B√ºy√ºk konser/miting sahneleri i√ßin.",
    },
  ],
};

// Eri≈üilebilirlik Bile≈üenleri
function SkipToMain() {
  return (
    <a
      href="#main-content"
      className="sr-only focus:not-sr-only focus:fixed focus:z-[9999] focus:top-4 focus:left-4 focus:bg-blue-600 focus:text-white focus:px-6 focus:py-4 focus:rounded-lg focus:font-bold focus:shadow-2xl focus:border-2 focus:border-white transition-all duration-200"
    >
      Ana i√ßeriƒüe atla
    </a>
  );
}

function FocusableCard({ children, className = "", ...props }) {
  return (
    <div 
      className={`focus:outline-none focus:ring-4 focus:ring-blue-500 focus:ring-opacity-50 focus:scale-105 transition-all duration-200 ${className}`}
      tabIndex={0}
      {...props}
    >
      {children}
    </div>
  );
}

function AccessibleCTA({ 
  href, 
  children, 
  variant = "primary", 
  className = "",
  ariaLabel,
  ...props 
}) {
  const baseStyles = "font-bold px-6 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300 focus:ring-opacity-50";
  
  const variants = {
    primary: "bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",
    secondary: "bg-white/10 backdrop-blur-md hover:bg-white/20 text-white border border-white/20",
    white: "bg-white text-blue-600 hover:bg-gray-100"
  };

  return (
    <a
      href={href}
      className={`${baseStyles} ${variants[variant]} ${className}`}
      aria-label={ariaLabel}
      {...props}
    >
      {children}
    </a>
  );
}

function OptimizedImage({ src, alt, className = "", priority = false, ...props }) {
  return (
    <Image
      src={src}
      alt={alt}
      className={`transition-transform duration-300 ${className}`}
      placeholder="blur"
      blurDataURL="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAIAAoDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAhEAACAQMDBQAAAAAAAAAAAAABAgMABAUGIWGRkqGx0f/EABUBAQEAAAAAAAAAAAAAAAAAAAMF/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAECEgMRkf/aAAwDAQACEQMRAD8AltJagyeH0AthI5xdrLcNM91BF5pX2HaUMk9NmGBnzSlT54b6bk+h0R"
      priority={priority}
      {...props}
    />
  );
}

// Yardƒ±mcƒ±lar
function priceBase(area) {
  return area * UNIT_PRICES.platform_m2_week;
}
function priceCarpet(area) {
  return area * UNIT_PRICES.carpet_m2_week;
}
function priceSkirt(perimeter) {
  return perimeter * UNIT_PRICES.skirt_ml_week;
}
function formatTRY(n) {
  try {
    return new Intl.NumberFormat("tr-TR", {
      style: "currency",
      currency: "TRY",
      maximumFractionDigits: 0,
    }).format(n);
  } catch {
    return `${n} TL`;
  }
}

export const metadata = {
  title: "Podyum Kiralama | Sahneva - Profesyonel Sahne ve Podyum √á√∂z√ºmleri",
  description: "Mod√ºler podyum kiralama: 1√ó1 ve 2√ó1 paneller, kaymaz kaplama, halƒ± ve sk√∂rt opsiyonlarƒ±. ƒ∞stanbul geneli profesyonel kurulum.",
  alternates: { canonical: "https://www.sahneva.com/podyum-kiralama" },
  keywords: [
    "podyum kiralama",
    "podyum sahne kiralama",
    "mod√ºler podyum",
    "sahne podyum platform",
    "podyum fiyatlarƒ±",
    "ƒ∞stanbul podyum kiralama",
    "podyum kurulumu",
    "etkinlik podyumu"
  ],
  openGraph: {
    title: "Podyum Kiralama | Sahneva - Profesyonel Sahne √á√∂z√ºmleri",
    description: "Konser, lansman ve d√ºƒü√ºnler i√ßin podyum sahne kiralama. Mod√ºler 1√ó1 & 2√ó1 paneller, kaymaz kaplama.",
    url: "https://www.sahneva.com/podyum-kiralama",
    type: "website",
    images: [
      {
        url: "/img/podyum/og-podyum.jpg",
        width: 1200,
        height: 630,
        alt: "Sahneva Podyum Kiralama - Profesyonel Sahne √á√∂z√ºmleri",
      },
    ],
    locale: "tr_TR",
  },
  robots: { index: true, follow: true },
};

export default function Page() {
  const title = "Profesyonel Podyum Kiralama";
  const desc = "Mod√ºler podyum sistemleri ile her t√ºrl√º etkinlik i√ßin profesyonel sahne √ß√∂z√ºmleri. 1√ó1 ve 2√ó1 paneller, kaymaz kaplama, g√ºvenlik ekipmanlarƒ± ve uzman kurulum ekibi.";
  const heroSrc = "/img/podyum/hero.webp";

  const enrichedPkgs = CONTENT.packages.map((p) => {
    const base = priceBase(p.layout.area);
    const carpet = priceCarpet(p.layout.area);
    const skirt = priceSkirt(p.layout.perimeter);
    return { 
      ...p, 
      price: { 
        base, 
        withCarpetAndSkirt: base + carpet + skirt, 
        carpet, 
        skirt,
        totalWithSetup: base + carpet + skirt + UNIT_PRICES.istanbul_setup
      } 
    };
  });

  return (
    <>
      <SkipToMain />
      
      {/* ‚úÖ OPTIMIZED HERO SECTION */}
      <section 
        className="relative min-h-[60vh] flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-purple-900"
        aria-labelledby="hero-title"
        role="banner"
      >
        <div className="absolute inset-0">
          <OptimizedImage
            src={heroSrc}
            alt="Profesyonel podyum kiralama hizmeti - Mod√ºler sahne sistemleri ve kurulum √ß√∂z√ºmleri"
            fill
            priority
            quality={80}
            sizes="100vw"
            className="object-cover"
            style={{ filter: 'brightness(0.7)' }}
          />
        </div>
        
        <div className="relative z-10 container text-center text-white px-4">
          <div className="max-w-4xl mx-auto">
            <div className="inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2 border border-white/20 mb-6">
              <span className="w-2 h-2 bg-green-400 rounded-full" aria-hidden="true"></span>
              <span className="text-white/90 text-sm">ƒ∞stanbul Geneli Hizmet</span>
            </div>

            <h1 id="hero-title" className="text-4xl md:text-5xl lg:text-6xl font-bold mb-4">
              Profesyonel <span className="text-blue-300">Podyum</span> √á√∂z√ºmleri
            </h1>
            
            <p className="text-lg md:text-xl text-white/90 mb-8 leading-relaxed">
              Mod√ºler podyum sistemleri, kaymaz kaplama ve profesyonel kurulum
              <br className="hidden md:block" />
              <strong>250 TL/m¬≤'den ba≈ülayan fiyatlarla</strong>
            </p>

            <div className="flex flex-col sm:flex-row justify-center items-center gap-4">
              <AccessibleCTA
                href="#paketler"
                variant="primary"
                ariaLabel="Podyum paketlerimizi inceleyin"
              >
                Paketleri ƒ∞nceleyin
              </AccessibleCTA>
              
              <AccessibleCTA
                href="tel:+905453048671"
                variant="secondary"
                ariaLabel="Hemen ara - Podyum kiralama i√ßin telefon: 905453048671"
              >
                <span className="flex items-center gap-2">
                  <span role="img" aria-label="Telefon">üìû</span>
                  Hemen Ara
                </span>
              </AccessibleCTA>
            </div>
          </div>
        </div>
      </section>

      <main id="main-content" tabIndex={-1}>
        {/* ‚úÖ OPTIMIZED INTRODUCTION */}
        <section className="py-16 bg-white">
          <div className="container max-w-4xl mx-auto px-4">
            <div className="text-center mb-12">
              <h2 className="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
                Etkinlikleriniz ƒ∞√ßin <span className="text-blue-600">G√ºvenli Sahne</span>
              </h2>
              <div className="w-20 h-1 bg-blue-600 mx-auto mb-6" aria-hidden="true"></div>
            </div>

            <div className="prose prose-lg max-w-none text-center">
              <p className="text-lg text-gray-700 leading-relaxed">
                Konser, d√ºƒü√ºn, lansman veya kurumsal etkinlikleriniz i√ßin mod√ºler podyum √ß√∂z√ºmleri sunuyoruz. 
                <strong className="text-blue-600"> Sahneva</strong> olarak, 1√ó1 ve 2√ó1 panellerle esnek kurulum, 
                kaymaz kaplama ve g√ºvenlik ekipmanlarƒ±yla profesyonel sahne deneyimi saƒülƒ±yoruz.
              </p>
            </div>

            <div className="mt-12 grid md:grid-cols-3 gap-6" role="list">
              {[
                { icon: "‚ö°", title: "Hƒ±zlƒ± Kurulum", desc: "2-6 saat i√ßinde profesyonel kurulum" },
                { icon: "üõ°Ô∏è", title: "G√ºvenlik", desc: "Kaymaz kaplama ve g√ºvenlik ekipmanlarƒ±" },
                { icon: "üèóÔ∏è", title: "Mod√ºler Sistem", desc: "1√ó1 ve 2√ó1 panellerle esnek kurulum" }
              ].map((feature, index) => (
                <FocusableCard
                  key={index}
                  className="text-center p-6 bg-gray-50 rounded-lg border border-gray-200 hover:shadow-lg transition-shadow duration-300"
                  role="listitem"
                >
                  <div className="text-3xl mb-3" role="img" aria-label={feature.title}>{feature.icon}</div>
                  <h3 className="text-lg font-semibold text-gray-900 mb-2">{feature.title}</h3>
                  <p className="text-gray-700 text-sm">{feature.desc}</p>
                </FocusableCard>
              ))}
            </div>
          </div>
        </section>

        {/* ‚úÖ HIZLI Fƒ∞YAT HESAPLAMA */}
        <section className="py-16 bg-gray-50">
          <div className="container max-w-4xl mx-auto px-4">
            <div className="text-center mb-12">
              <h2 className="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
                Hƒ±zlƒ± <span className="text-blue-600">Fiyat Hesaplama</span>
              </h2>
              <p className="text-lg text-gray-600">
                Podyum √∂l√ß√ºlerinizi girerek anƒ±nda fiyat teklifi alƒ±n
              </p>
            </div>

            <FocusableCard className="bg-white rounded-2xl shadow-lg border border-gray-200 p-6 md:p-8">
              <PriceEstimator unitPrices={UNIT_PRICES} />
              <div className="mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200">
                <p className="text-sm text-blue-800">
                  <strong>ƒ∞stanbul i√ßi nakliye, kurulum ve s√∂k√ºm: {formatTRY(UNIT_PRICES.istanbul_setup)}</strong><br />
                  *200 m¬≤'ye kadar ge√ßerlidir. ≈ûehir dƒ±≈üƒ± projeler i√ßin √∂zel teklif alƒ±n.
                </p>
              </div>
            </FocusableCard>
          </div>
        </section>

        {/* ‚úÖ PAKETLER VE Fƒ∞YATLAR */}
        <section id="paketler" className="py-16 bg-white">
          <div className="container max-w-6xl mx-auto px-4">
            <div className="text-center mb-12">
              <h2 className="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
                Podyum <span className="text-blue-600">Paketlerimiz</span>
              </h2>
              <p className="text-lg text-gray-600">
                ƒ∞htiya√ßlarƒ±nƒ±za uygun hazƒ±r paketler veya √∂zel √ß√∂z√ºmler
              </p>
            </div>

            <div className="grid md:grid-cols-3 gap-8" role="list">
              {enrichedPkgs.map((pkg, index) => (
                <FocusableCard
                  key={pkg.key}
                  className="bg-white rounded-2xl shadow-lg border border-gray-200 hover:shadow-xl transition-all duration-300 overflow-hidden"
                  role="listitem"
                >
                  <div className="bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6">
                    <h3 className="text-xl font-bold mb-2">{pkg.name}</h3>
                    <div className="text-sm opacity-90">
                      {pkg.layout.width}√ó{pkg.layout.depth} m ‚Ä¢ {pkg.layout.area} m¬≤
                    </div>
                  </div>
                  
                  <div className="p-6">
                    <ul className="space-y-3 mb-6" role="list">
                      {pkg.includes.map((item, itemIndex) => (
                        <li key={itemIndex} className="flex items-start gap-3 text-gray-700 text-sm">
                          <span className="w-1.5 h-1.5 bg-blue-500 rounded-full mt-1.5 flex-shrink-0" aria-hidden="true"></span>
                          {item}
                        </li>
                      ))}
                    </ul>

                    <div className="bg-gray-50 rounded-lg p-4 border border-gray-200">
                      <div className="space-y-2 text-sm">
                        <div className="flex justify-between">
                          <span>Platform:</span>
                          <span className="font-semibold">{formatTRY(pkg.price.base)}</span>
                        </div>
                        <div className="flex justify-between">
                          <span>Halƒ± + Sk√∂rt:</span>
                          <span className="font-semibold">{formatTRY(pkg.price.withCarpetAndSkirt)}</span>
                        </div>
                        <div className="flex justify-between border-t border-gray-300 pt-2">
                          <span className="font-bold">Toplam (ƒ∞stanbul):</span>
                          <span className="font-bold text-blue-600">{formatTRY(pkg.price.totalWithSetup)}</span>
                        </div>
                      </div>
                    </div>

                    {pkg.note && (
                      <p className="mt-4 text-sm text-gray-600 text-center">{pkg.note}</p>
                    )}

                    <div className="mt-6">
                      <AccessibleCTA
                        href="tel:+905453048671"
                        variant="primary"
                        className="w-full text-center justify-center"
                        ariaLabel={`${pkg.name} i√ßin hemen teklif alƒ±n`}
                      >
                        <span className="flex items-center justify-center gap-2">
                          <span role="img" aria-label="Telefon">üìû</span>
                          Hemen Teklif Al
                        </span>
                      </AccessibleCTA>
                    </div>
                  </div>
                </FocusableCard>
              ))}
            </div>

            <div className="mt-8 text-center">
              <p className="text-sm text-gray-600">
                *Fiyatlar haftalƒ±k kiralama i√ßindir. G√ºnl√ºk kiralama i√ßin ileti≈üime ge√ßin.
              </p>
            </div>
          </div>
        </section>

        {/* ‚úÖ TEKNƒ∞K DETAYLAR */}
        <section className="py-16 bg-gray-50">
          <div className="container max-w-6xl mx-auto px-4">
            <div className="grid lg:grid-cols-2 gap-12">
              <div>
                <h2 className="text-3xl font-bold text-gray-900 mb-8">Teknik √ñzellikler</h2>
                <div className="space-y-6">
                  <FocusableCard className="bg-white rounded-lg p-6 border border-gray-200">
                    <h3 className="text-lg font-semibold text-gray-900 mb-4">Panel Se√ßenekleri</h3>
                    <div className="grid md:grid-cols-2 gap-4">
                      <div>
                        <h4 className="font-semibold text-blue-900 mb-2">1√ó1 m Paneller</h4>
                        <ul className="space-y-1 text-gray-700 text-sm">
                          <li>‚Ä¢ D√ºzensiz zeminlerde hassas dengeleme</li>
                          <li>‚Ä¢ Dar alanlar i√ßin ideal</li>
                          <li>‚Ä¢ Mod√ºler esneklik</li>
                        </ul>
                      </div>
                      <div>
                        <h4 className="font-semibold text-blue-900 mb-2">2√ó1 m Paneller</h4>
                        <ul className="space-y-1 text-gray-700 text-sm">
                          <li>‚Ä¢ Hƒ±zlƒ± kurulum</li>
                          <li>‚Ä¢ Geni≈ü y√ºzeyler i√ßin</li>
                          <li>‚Ä¢ Ana sahnelerde avantajlƒ±</li>
                        </ul>
                      </div>
                    </div>
                  </FocusableCard>

                  <FocusableCard className="bg-white rounded-lg p-6 border border-gray-200">
                    <h3 className="text-lg font-semibold text-gray-900 mb-4">G√ºvenlik & Eri≈üilebilirlik</h3>
                    <ul className="space-y-2 text-gray-700 text-sm">
                      <li>‚Ä¢ Kaymaz kaplama standart</li>
                      <li>‚Ä¢ Kenar korkuluk opsiyonu</li>
                      <li>‚Ä¢ Engelli eri≈üimi i√ßin rampa</li>
                      <li>‚Ä¢ Kablo kanalƒ± ve i≈üaretleme</li>
                    </ul>
                  </FocusableCard>
                </div>
              </div>

              <div>
                <h2 className="text-3xl font-bold text-gray-900 mb-8">Pop√ºler √ñl√ß√ºler</h2>
                <PriceMatrix unitPrices={UNIT_PRICES} />
              </div>
            </div>
          </div>
        </section>

        {/* ‚úÖ KULLANIM SENARYOLARI */}
        <section className="py-16 bg-white">
          <div className="container max-w-6xl mx-auto px-4">
            <div className="text-center mb-12">
              <h2 className="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
                Kullanƒ±m <span className="text-blue-600">Senaryolarƒ±</span>
              </h2>
            </div>

            <div className="grid md:grid-cols-3 gap-8" role="list">
              {[
                {
                  title: "Kurumsal Lansman",
                  description: "Sunum ve demo √ßekimleri i√ßin 2√ó1 panellerle geni≈ü y√ºzey, 40-60 cm y√ºkseklik ve kablo y√∂netimi.",
                  features: ["Geni≈ü y√ºzey", "Kablo y√∂netimi", "Profesyonel g√∂r√ºn√ºm"]
                },
                {
                  title: "D√ºƒü√ºn & Davet",
                  description: "Orkestra/DJ alanƒ± ve dans pisti uyumu. 30-50 cm y√ºkseklik ve estetik halƒ± kaplama.",
                  features: ["Dans pisti uyumu", "Estetik kaplama", "G√ºvenli y√ºzey"]
                },
                {
                  title: "Konser & T√∂ren",
                  description: "B√ºy√ºk y√ºzeylerde hƒ±zlƒ± kurulum, rampa/korkuluk ve yan platformlarla sahne √∂n√º/arka akƒ±≈ü konforu.",
                  features: ["Hƒ±zlƒ± kurulum", "G√ºvenlik ekipmanlarƒ±", "Yan platformlar"]
                }
              ].map((scenario, index) => (
                <FocusableCard
                  key={index}
                  className="bg-white rounded-2xl shadow-lg border border-gray-200 p-6 hover:shadow-xl transition-shadow duration-300"
                  role="listitem"
                >
                  <h3 className="text-xl font-semibold text-gray-900 mb-3">{scenario.title}</h3>
                  <p className="text-gray-700 mb-4 text-sm">{scenario.description}</p>
                  <ul className="space-y-1" role="list">
                    {scenario.features.map((feature, featureIndex) => (
                      <li key={featureIndex} className="flex items-center gap-2 text-gray-600 text-sm">
                        <span className="w-1.5 h-1.5 bg-green-500 rounded-full flex-shrink-0" aria-hidden="true"></span>
                        {feature}
                      </li>
                    ))}
                  </ul>
                </FocusableCard>
              ))}
            </div>
          </div>
        </section>

        {/* ‚úÖ GALERƒ∞ */}
        <section className="py-16 bg-gray-50">
          <div className="container max-w-6xl mx-auto px-4">
            <div className="text-center mb-12">
              <h2 className="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
                Proje <span className="text-blue-600">Galerimiz</span>
              </h2>
              <p className="text-lg text-gray-600">
                Ger√ßekle≈ütirdiƒüimiz ba≈üarƒ±lƒ± podyum kurulum projelerinden √∂rnekler
              </p>
            </div>

            <div className="grid grid-cols-2 md:grid-cols-3 gap-4" role="list">
              {CONTENT.gallery.map((src, index) => (
                <FocusableCard
                  key={index}
                  className="relative aspect-square overflow-hidden rounded-xl bg-gray-200 group"
                  role="listitem"
                >
                  <OptimizedImage
                    src={src}
                    alt={`Podyum kurulum projesi ${index + 1} - Profesyonel sahne √ßalƒ±≈ümamƒ±z`}
                    fill
                    sizes="(max-width: 768px) 50vw, (max-width: 1024px) 33vw, 25vw"
                    className="object-cover group-hover:scale-110 transition-transform duration-500"
                  />
                </FocusableCard>
              ))}
            </div>
          </div>
        </section>

        {/* ‚úÖ SIK√áA SORULAN SORULAR */}
        <section className="py-16 bg-white">
          <div className="container max-w-4xl mx-auto px-4">
            <div className="text-center mb-12">
              <h2 className="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
                Sƒ±k√ßa Sorulan <span className="text-blue-600">Sorular</span>
              </h2>
            </div>

            <div className="space-y-6">
              {[
                {
                  question: "Podyum kiralama fiyatlarƒ± nasƒ±l hesaplanƒ±r?",
                  answer: "Alan (m¬≤), y√ºkseklik, aksesuarlar (korkuluk, rampa, sk√∂rt, halƒ±) ve nakliye esas alƒ±nƒ±r. Halƒ± m¬≤, sk√∂rt √ßevre metre √ºzerinden hesaplanƒ±r."
                },
                {
                  question: "Hangi panelleri kullanƒ±yorsunuz?",
                  answer: "1√ó1 m ve 2√ó1 m mod√ºler paneller. D√ºzensiz zeminde 1√ó1, ana sahnede 2√ó1 paneller √∂nerilir."
                },
                {
                  question: "Kurulum ne kadar s√ºrer?",
                  answer: "Standart 24-48 m¬≤ podyumlar √ßoƒüu mek√¢nda aynƒ± g√ºn kurulur. Geni≈ü alanlar ve gece mesaisi ek s√ºre gerektirebilir."
                },
                {
                  question: "Halƒ± ve sk√∂rt zorunlu mu?",
                  answer: "Zorunlu deƒüildir; g√∂rsel b√ºt√ºnl√ºk ve g√ºvenlik i√ßin √∂nerilir. Fiyatlar opsiyon olarak ayrƒ± hesaplanƒ±r."
                }
              ].map((faq, index) => (
                <FocusableCard
                  key={index}
                  className="bg-white rounded-2xl shadow-lg border border-gray-200 p-6 hover:shadow-xl transition-shadow duration-300"
                >
                  <h3 className="text-lg font-semibold text-gray-900 mb-3">{faq.question}</h3>
                  <p className="text-gray-700 leading-relaxed">{faq.answer}</p>
                </FocusableCard>
              ))}
            </div>

            <div className="text-center mt-12">
              <div className="bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white">
                <h3 className="text-2xl font-bold mb-4">Ba≈üka Sorunuz Mu Var?</h3>
                <p className="text-white/90 mb-6">7/24 canlƒ± destek ekibimiz sorularƒ±nƒ±zƒ± yanƒ±tlamak i√ßin hazƒ±r</p>
                <div className="flex flex-col sm:flex-row justify-center items-center gap-4">
                  <AccessibleCTA
                    href="tel:+905453048671"
                    variant="white"
                    ariaLabel="Telefon ile hemen podyum kiralama danƒ±≈ümanlƒ±ƒüƒ± alƒ±n"
                  >
                    <span className="flex items-center justify-center gap-2">
                      <span role="img" aria-label="Telefon">üìû</span>
                      Hemen Ara
                    </span>
                  </AccessibleCTA>
                  <AccessibleCTA
                    href="https://wa.me/905453048671"
                    variant="primary"
                    ariaLabel="WhatsApp √ºzerinden podyum kiralama teklifi alƒ±n"
                  >
                    <span className="flex items-center justify-center gap-2">
                      <span role="img" aria-label="WhatsApp">üí¨</span>
                      WhatsApp
                    </span>
                  </AccessibleCTA>
                </div>
              </div>
            </div>
          </div>
        </section>

        {/* ‚úÖ ƒ∞LGƒ∞Lƒ∞ Hƒ∞ZMETLER */}
        <section className="py-16 bg-gray-50">
          <div className="container max-w-4xl mx-auto px-4">
            <div className="text-center mb-12">
              <h2 className="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
                Tamamlayƒ±cƒ± <span className="text-blue-600">Hizmetlerimiz</span>
              </h2>
            </div>

            <div className="grid sm:grid-cols-2 lg:grid-cols-4 gap-4" role="navigation" aria-label="Tamamlayƒ±cƒ± hizmetler">
              {[
                { href: "/sahne-kiralama", title: "Sahne Kiralama", icon: "üé™" },
                { href: "/led-ekran-kiralama", title: "LED Ekran", icon: "üñ•Ô∏è" },
                { href: "/ses-isik-sistemleri", title: "Ses & I≈üƒ±k", icon: "üéµ" },
                { href: "/cadir-kiralama", title: "√áadƒ±r Kiralama", icon: "üèïÔ∏è" }
              ].map((service, index) => (
                <Link
                  key={index}
                  href={service.href}
                  className="bg-white rounded-lg p-4 shadow-sm border border-gray-200 text-center hover:shadow-md transition-shadow focus:outline-none focus:ring-4 focus:ring-blue-300 focus:ring-opacity-50"
                  aria-label={`${service.title} hizmeti sayfasƒ±na git`}
                >
                  <div className="text-2xl mb-2" role="img" aria-hidden="true">{service.icon}</div>
                  <h3 className="font-medium text-gray-900">{service.title}</h3>
                </Link>
              ))}
            </div>
          </div>
        </section>

        {/* ‚úÖ CTA SECTION */}
        <section className="py-16 bg-gradient-to-br from-blue-600 to-purple-600">
          <div className="container max-w-4xl mx-auto px-4 text-center text-white">
            <h2 className="text-3xl md:text-4xl font-bold mb-6">
              Hemen <span className="text-yellow-300">Podyum Kirala</span>
            </h2>
            <p className="text-lg text-white/90 mb-8 leading-relaxed max-w-2xl mx-auto">
              Etkinliƒüiniz i√ßin en uygun podyum √ß√∂z√ºm√ºn√º sunalƒ±m. 2 saat i√ßinde detaylƒ± teklif hazƒ±rlƒ±yoruz.
            </p>

            <div className="flex flex-col sm:flex-row justify-center items-center gap-4">
              <AccessibleCTA
                href="tel:+905453048671"
                variant="white"
                ariaLabel="Hemen ara - Podyum kiralama i√ßin telefon: 905453048671"
              >
                <span className="flex items-center justify-center gap-2">
                  <span role="img" aria-label="Telefon">üìû</span>
                  Hemen Ara
                </span>
              </AccessibleCTA>

              <AccessibleCTA
                href="https://wa.me/905453048671"
                variant="primary"
                ariaLabel="WhatsApp'tan podyum kiralama teklifi al"
              >
                <span className="flex items-center justify-center gap-2">
                  <span role="img" aria-label="WhatsApp">üí¨</span>
                  WhatsApp
                </span>
              </AccessibleCTA>
            </div>

            <div className="mt-8 bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20 max-w-2xl mx-auto">
              <p className="text-white/90 text-sm">
                <strong>‚è±Ô∏è 2 Saat ƒ∞√ßinde Yanƒ±t:</strong> Mesai saatleri i√ßinde t√ºm podyum kiralama taleplerinize 
                2 saat i√ßinde detaylƒ± teklif ve profesyonel danƒ±≈ümanlƒ±k sunuyoruz.
              </p>
            </div>
          </div>
        </section>
      </main>

      <SchemaBlocks packages={CONTENT.packages} unitPrices={UNIT_PRICES} />
    </>
  );
}

/* ---------- Alt Bile≈üenler (Server) ---------- */
function PriceMatrix({ unitPrices }) {
  const PRESETS = [
    { w: 2, d: 5 },  // 10 m¬≤
    { w: 3, d: 5 },  // 15 m¬≤
    { w: 4, d: 5 },  // 20 m¬≤
    { w: 4, d: 6 },  // 24 m¬≤
    { w: 5, d: 6 },  // 30 m¬≤
    { w: 5, d: 8 },  // 40 m¬≤
    { w: 6, d: 10 }, // 60 m¬≤
    { w: 8, d: 10 }, // 80 m¬≤
  ];
  
  const rows = PRESETS.map(({ w, d }) => {
    const area = w * d;
    const perimeter = 2 * (w + d);
    const base = area * unitPrices.platform_m2_week;
    const carpet = area * unitPrices.carpet_m2_week;
    const skirt = perimeter * unitPrices.skirt_ml_week;
    const setup = unitPrices.istanbul_setup;
    return { 
      w, d, area, perimeter, base, 
      carpet, skirt, setup,
      total: base + carpet + skirt + setup 
    };
  });

  return (
    <FocusableCard className="overflow-x-auto rounded-2xl border bg-white">
      <table className="w-full text-sm" aria-label="Pop√ºler podyum √∂l√ß√ºleri ve fiyatlarƒ±">
        <caption className="sr-only">Pop√ºler podyum √∂l√ß√ºleri ve haftalƒ±k kiralama fiyatlarƒ±</caption>
        <thead>
          <tr className="text-left text-neutral-500 [&>th]:p-3 bg-gray-50">
            <th scope="col">√ñl√ß√º</th>
            <th scope="col">Alan</th>
            <th scope="col">Platform</th>
            <th scope="col">Halƒ±</th>
            <th scope="col">Sk√∂rt</th>
            <th scope="col">Kurulum</th>
            <th scope="col">Toplam</th>
          </tr>
        </thead>
        <tbody className="[&>tr>*]:p-3 [&>tr]:border-t">
          {rows.map((r, i) => (
            <tr key={i} className="hover:bg-gray-50">
              <td>{r.w}√ó{r.d} m</td>
              <td>{r.area} m¬≤</td>
              <td>{formatTRY(r.base)}</td>
              <td>{formatTRY(r.carpet)}</td>
              <td>{formatTRY(r.skirt)}</td>
              <td>{formatTRY(r.setup)}</td>
              <td className="font-semibold text-blue-600">{formatTRY(r.total)}</td>
            </tr>
          ))}
        </tbody>
      </table>
      <div className="p-3 border-t bg-gray-50">
        <p className="text-xs text-neutral-500">
          *Fiyatlar haftalƒ±ktƒ±r ve ƒ∞stanbul i√ßi nakliye, kurulum, s√∂k√ºm dahildir.
        </p>
      </div>
    </FocusableCard>
  );
}

/* ---------- SchemaBlocks ---------- */
function SchemaBlocks({ packages: pkgs, unitPrices }) {
  const SITE = "https://www.sahneva.com";
  const PAGE = `${SITE}/podyum-kiralama`;
  const LB_ID = `${SITE}/#localbusiness`;
  const SERVICE_ID = `${PAGE}#service`;
  const FAQ_ID = `${PAGE}#faq`;
  const BREAD_ID = `${PAGE}#breadcrumbs`;

  const offers = (pkgs || []).map((p) => {
    const area = p.layout.area;
    const perimeter = p.layout.perimeter;
    const priceNumber =
      area * unitPrices.platform_m2_week +
      area * unitPrices.carpet_m2_week +
      perimeter * unitPrices.skirt_ml_week +
      unitPrices.istanbul_setup;

    return {
      "@type": "Offer",
      name: p.name,
      description: `${p.layout.width}√ó${p.layout.depth} m (${p.layout.area} m¬≤), √ßevre ${p.layout.perimeter} m. ƒ∞stanbul i√ßi nakliye, kurulum ve s√∂k√ºm dahil.`,
      priceCurrency: "TRY",
      price: String(priceNumber),
      availability: "https://schema.org/InStock",
      url: PAGE
    };
  });

  const faq = [
    {
      q: "Podyum kiralama fiyatlarƒ± nasƒ±l hesaplanƒ±r?",
      a: "Alan (m¬≤), y√ºkseklik, aksesuarlar (korkuluk, rampa, sk√∂rt, halƒ±) ve nakliye temel alƒ±nƒ±r. Halƒ± m¬≤, sk√∂rt √ßevre metre √ºzerinden hesaplanƒ±r."
    },
    {
      q: "Hangi panelleri kullanƒ±yorsunuz?",
      a: "1√ó1 m ve 2√ó1 m mod√ºler paneller. D√ºzensiz zeminde 1√ó1, ana sahnede 2√ó1 paneller √∂nerilir."
    },
    {
      q: "Kurulum ne kadar s√ºrer?",
      a: "Standart 24‚Äì48 m¬≤ podyumlar √ßoƒüu mek√¢nda aynƒ± g√ºn kurulur. Geni≈ü alanlar ve gece mesaisi ek s√ºre gerektirebilir."
    }
  ];

  const ldService = {
    "@context": "https://schema.org",
    "@type": "Service",
    "@id": SERVICE_ID,
    serviceType: "Podyum Kiralama",
    name: "Profesyonel Podyum Kiralama",
    description: "Mod√ºler 1√ó1 ve 2√ó1 panellerle podyum kiralama; kaymaz kaplama, rampa/korkuluk ve profesyonel kurulum. ƒ∞stanbul geneli hizmet.",
    url: PAGE,
    areaServed: [
      { "@type": "Country", name: "TR" },
      { "@type": "City", name: "ƒ∞stanbul" }
    ],
    provider: { "@id": LB_ID },
    offers: offers,
    hasOfferCatalog: {
      "@type": "OfferCatalog",
      name: "Podyum Paketleri (Haftalƒ±k)",
      itemListElement: offers
    }
  };

  const ldFAQ = {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "@id": FAQ_ID,
    mainEntity: faq.map((f) => ({
      "@type": "Question",
      name: f.q,
      acceptedAnswer: { "@type": "Answer", text: f.a }
    }))
  };

  const ldBreadcrumb = {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "@id": BREAD_ID,
    itemListElement: [
      { "@type": "ListItem", position: 1, name: "Anasayfa", item: SITE },
      { "@type": "ListItem", position: 2, name: "Podyum Kiralama", item: PAGE }
    ]
  };

  return (
    <>
      <Script id="ld-service" type="application/ld+json" strategy="afterInteractive"
        dangerouslySetInnerHTML={{ __html: JSON.stringify(ldService) }} />
      <Script id="ld-faq" type="application/ld+json" strategy="afterInteractive"
        dangerouslySetInnerHTML={{ __html: JSON.stringify(ldFAQ) }} />
      <Script id="ld-breadcrumb" type="application/ld+json" strategy="afterInteractive"
        dangerouslySetInnerHTML={{ __html: JSON.stringify(ldBreadcrumb) }} />
    </>
  );
}
