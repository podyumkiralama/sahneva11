.utilityBarContainer{
  position:fixed;
  right:20px;
  top:50%;
  transform:translateY(-50%);
  z-index:1000;
  background:rgba(255,255,255,0.92);
  backdrop-filter:blur(10px);
  border-radius:24px;
  padding:12px 8px;
  box-shadow:0 8px 32px rgba(0,0,0,.1);
  border:1px solid rgba(255,255,255,.2);
  outline:1px solid rgba(0,0,0,.06);
  transition:transform .3s ease;
  will-change:transform;
}

.scrolled{ transform:translateY(calc(-50% - 20px)); }

.utilityBarContent{ display:flex; flex-direction:column; gap:12px; align-items:center; }
.utilityToolWrapper{ position:relative; display:flex; justify-content:center; }

.utilityBtn{
  position:relative;
  width:50px;
  height:50px;
  border-radius:12px;
  border:0;
  background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
  color:#fff;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  transition:all .3s ease;
  font-size:18px;
  box-shadow:0 4px 15px rgba(0,0,0,.2);
}

.utilityBtn:hover{ transform:translateY(-2px); box-shadow:0 6px 20px rgba(102,126,234,.4); }

.utilityBtnActive{ background:linear-gradient(135deg,#f093fb 0%,#f5576c 100%); transform:scale(1.1); }

.utilityDot{
  position:absolute;
  top:8px;
  right:8px;
  width:6px;
  height:6px;
  background:#10b981;
  border-radius:50%;
  opacity:0;
  transition:opacity .3s ease;
}

.utilityBtnActive .utilityDot{ opacity:1; }

.utilityTooltip{
  position:absolute;
  right:100%;
  top:50%;
  transform:translateY(-50%);
  z-index:1001;
  margin-right:8px;
  animation:tooltipFadeIn .2s ease-out;
}

@keyframes tooltipFadeIn{
  from{opacity:0; transform:translateY(-50%) translateX(-10px);}
  to{opacity:1; transform:translateY(-50%) translateX(0);}
}

.utilityTooltipContent{
  background:#fff;
  border-radius:16px;
  padding:16px;
  box-shadow:0 8px 32px rgba(0,0,0,.15);
  border:1px solid rgba(0,0,0,.1);
  min-width:200px;
}

.fontSizeControls{ margin-bottom:16px; }
.controlLabel{ display:block; font-size:14px; font-weight:600; color:#374151; margin-bottom:8px; text-align:center; }
.fontButtons{ display:flex; gap:8px; justify-content:center; }

.fontBtn{
  flex:1;
  padding:8px 12px;
  border:2px solid #e5e7eb;
  background:#fff;
  border-radius:8px;
  cursor:pointer;
  font-weight:700;
  transition:all .2s ease;
  font-size:14px;
  color:#374151;
}

.fontBtn:hover{ background:#f3f4f6; border-color:#667eea; }

.contrastBtn{
  width:100%;
  padding:10px 16px;
  border:2px solid #e5e7eb;
  background:#fff;
  border-radius:8px;
  cursor:pointer;
  transition:all .2s ease;
  font-size:14px;
  font-weight:500;
  color:#374151;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
}

.contrastBtn:hover{ background:#f3f4f6; border-color:#667eea; }

.contactBtn{
  display:flex;
  align-items:center;
  gap:8px;
  width:100%;
  padding:10px 12px;
  border:0;
  border-radius:8px;
  cursor:pointer;
  text-decoration:none;
  font-size:14px;
  font-weight:500;
  transition:all .2s ease;
  margin-bottom:8px;
  justify-content:center;
}

.contactBtn:last-child{ margin-bottom:0; }

.contactBtnPhone{ background:#3b82f6; color:#fff; }
.contactBtnPhone:hover{ background:#2563eb; transform:translateY(-1px); }

.contactBtnWhatsapp{ background:#22c55e; color:#fff; }
.contactBtnWhatsapp:hover{ background:#16a34a; transform:translateY(-1px); }

.searchModalOverlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.5);
  backdrop-filter:blur(4px);
  z-index:10000;
  display:flex;
  align-items:flex-start;
  justify-content:center;
  padding-top:100px;
  animation:overlayFadeIn .2s ease-out;
}

@keyframes overlayFadeIn{ from{opacity:0;} to{opacity:1;} }

.searchModalContainer{
  background:#fff;
  border-radius:16px;
  width:90%;
  max-width:600px;
  max-height:80vh;
  overflow:hidden;
  box-shadow:0 20px 60px rgba(0,0,0,.2);
  animation:modalSlideIn .2s ease-out;
}

@keyframes modalSlideIn{ from{opacity:0; transform:translateY(-20px);} to{opacity:1; transform:translateY(0);} }

.searchHeader{
  display:flex;
  align-items:center;
  gap:12px;
  padding:20px;
  border-bottom:1px solid #e5e7eb;
  background:#f8fafc;
}

.searchInputWrapper{ flex:1; position:relative; }
.searchIcon{ position:absolute; left:12px; top:50%; transform:translateY(-50%); color:#6b7280; }

.searchInput{
  width:100%;
  padding:12px 12px 12px 40px;
  border:1px solid #d1d5db;
  border-radius:8px;
  font-size:16px;
  transition:all .2s ease;
  background:#fff;
}

.searchInput:focus{ outline:none; border-color:#3b82f6; box-shadow:0 0 0 3px rgba(59,130,246,.1); }

.searchCloseBtn{
  padding:10px 16px;
  background:#6b7280;
  color:#fff;
  border:0;
  border-radius:8px;
  cursor:pointer;
  font-weight:500;
  transition:background .2s ease;
}

.searchCloseBtn:hover{ background:#4b5563; }

.searchResults{ max-height:400px; overflow-y:auto; padding:16px; }

.noResults{ text-align:center; padding:40px 20px; color:#6b7280; }
.noResultsIcon{ font-size:48px; margin-bottom:16px; opacity:.5; }
.noResultsTitle{ font-size:18px; font-weight:600; margin-bottom:8px; color:#374151; }
.noResultsDescription{ font-size:14px; opacity:.7; }

.resultsList{ display:flex; flex-direction:column; gap:8px; }

.resultItem{
  display:flex;
  align-items:center;
  gap:12px;
  padding:12px 16px;
  border-radius:8px;
  text-decoration:none;
  color:#374151;
  transition:all .2s ease;
  border:1px solid transparent;
}

.resultItem:hover{ background:#f3f4f6; border-color:#e5e7eb; transform:translateX(5px); }

.resultIcon{ font-size:18px; width:24px; text-align:center; }
.resultLabel{ flex:1; font-weight:500; }

.searchTips{ margin-top:20px; padding:16px; background:#f8fafc; border-radius:8px; border:1px solid #e5e7eb; }
.tipsText{ margin:0; font-size:14px; color:#6b7280; }

:global(html.hc) :local(.utilityBarContainer),
:global(html.hc) :local(.utilityTooltipContent){
  background:#000;
  border:2px solid #fff;
}

:global(html.hc) :local(.fontBtn),
:global(html.hc) :local(.contrastBtn),
:global(html.hc) :local(.contactBtn){
  background:#000;
  border:2px solid #fff;
  color:#fff;
}

:global(html.hc) :local(.fontBtn:hover),
:global(html.hc) :local(.contrastBtn:hover){ background:#333; }

@media (max-width:768px){
  .utilityBarContainer{ right:10px; padding:8px 6px; }
  .utilityBtn{ width:44px; height:44px; font-size:16px; }
  .utilityTooltip{ margin-right:6px; }
  .utilityTooltipContent{ min-width:180px; padding:12px; }
  .searchModalOverlay{ padding:20px; align-items:center; }
  .searchModalContainer{ width:95%; max-height:90vh; }
  .searchHeader{ flex-direction:column; gap:8px; }
  .searchInputWrapper{ width:100%; }
  .searchCloseBtn{ width:100%; }
}

@media (max-width:480px){
  .utilityBarContainer{ right:5px; padding:6px 4px; }
  .utilityBtn{ width:40px; height:40px; font-size:14px; }
  .utilityTooltipContent{ min-width:160px; padding:10px; }
  .fontButtons{ flex-direction:column; gap:4px; }
}

@media (prefers-reduced-motion: reduce){
  .utilityBarContainer,
  .utilityBtn,
  .utilityDot,
  .utilityTooltip,
  .fontBtn,
  .contrastBtn,
  .contactBtn,
  .searchInput,
  .searchCloseBtn,
  .resultItem{
    transition:none !important;
    animation:none !important;
  }

  .utilityBtn:hover{ transform:none !important; }
}
